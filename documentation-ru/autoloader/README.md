# PhpMocker - Автозагрузка классов, с преобразованием в мок-классы
[<< Оглавление](../README.md)

_Автозагрузчик классов PhpMocker позволяет загружать классы с автоматическим преобразованием в мок-классы_

* [Настройка подключения автозагрузчика](autoloader-init.md)
* [Работа с автозагрузчиком](autoloader-work.md)
* [Фильтрация (определение, какие классы нужно преобразовать в мок-классы)](filer.md)
* [Драйвер поиска пути к файлу класса](driver.md)
* [Кеша мок-классов](cache.md)
* [Пример встраивания и работы автозагрузчика](examples.md)

**ВНИМАНИЕ**: Обычно классы, из пространств имен `\DraculAid\PhpMocker` и `PhpUnit` не будут преобразованы в мок-классы.
Это поведение можно изменить, см [Фильтры](filer.md)

По умолчанию автозагрузчик получает пути до файлов-классов с помощью автозагрузчика композера, если ваш проект не использует
его, вы можете написать свой собственный драйвер. Подробнее см [Драйвер поиска пути](driver.md)

**Ресурсы**
* `DraculAid/PhpMocker/src/autoloader.php` Вернет "настройщик автозагрузчика" и загрузит все необходимые для него классы
* `DraculAid\PhpMocker\ClassAutoloader\AutoloaderInit` Класс настройщик автозагрузчика
* `DraculAid\PhpMocker\ClassAutoloader\Autoloader` Класс автозагрузчика
* `DraculAid\PhpMocker\ClassAutoloader\Drivers\ComposerAutoloaderDriver` Класс-фасад, для получения путей к файлам классов из автозагрузчика композера
* `DraculAid\PhpMocker\ClassAutoloader\Filters\DefaultAutoloaderFilter` Фильтр "по умолчанию" для определения, должен ли загружаемый класс преобразовываться в мок-класс

## Получение "менеджера мок-класса" для загруженного (и преобразованного) класса

`\DraculAid\PhpMocker\ClassManager::getManager()` Вернет "менеджер мок-класса" для УЖЕ загруженного мок-класса. Если класс не 
загружен или не является мок-классом - выбросит исключение

`\DraculAid\PhpMocker\MockManager::getForClass()` Вызовет автозагрузку класса, с Обязательным преобразованием в мок-класс и
вернет "менеджер мок-класса. Если класс уже загружен (или является встроенным классом) - выбросит исключение

Более подробно работа с `ClassManager::getManager()` и `MockManager::getForClass()` описана в [Создание мок-классов с помощью изменения PHP кода](../mock-classes/from-php.md)

Контролировать процесс преобразования в мок-классы можно:
* `Autoloader::$autoMockerEnabled` Включает/Отключает преобразование
* `Autoloader::$autoloaderFilter` Объект-фильтр, для определения, нужно ли преобразовывать класс в мок-класс

Подробнее см [Работа с автозагрузчиком](autoloader-work.md)

---

[<< Оглавление](../README.md)
